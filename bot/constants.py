"""
Constants for Roma Pizza Bot
Centralized location for all magic strings, numbers, and configuration values
"""

# Message templates
class Messages:
    WELCOME_NEW_USER = "üëã –ü—Ä–∏–≤–µ—Ç, {name}! –Ø –±–æ—Ç –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ Roma Pizza.\n\n"
    WELCOME_RETURNING_USER = "üëã –° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º, {name}!\n\nüìä –í–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:\n‚Ä¢ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤: {count}\n"
    WELCOME_COMMANDS = (
        "\nüìù –û—Ç–ø—Ä–∞–≤—å—Ç–µ –æ—Ç—á–µ—Ç –æ –ø—Ä–æ–±–ª–µ–º–µ:\n"
        "‚Ä¢ '–°–ª–æ–º–∞–ª–∞—Å—å –∫–∞—Å—Å–∞ –≤ –ù–æ–≤–∑–∞'\n"
        "‚Ä¢ '–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä –≤ Chilonzor'\n\n"
        "üìä –î–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏: /rep [–∑–∞–ø—Ä–æ—Å]\n"
        "üìà –ú–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: /mystats"
    )
    
    INCIDENT_ACCEPTED = (
        "üü† –û—Ç—á–µ—Ç –ø—Ä–∏–Ω—è—Ç!\n\n"
        "üì∏ –¢–µ–ø–µ—Ä—å –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã.\n"
        "–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ñ–æ—Ç–æ –æ—Ç—á–µ—Ç –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º."
    )
    
    PHOTO_WITHOUT_CONTEXT = (
        "üì∏ –§–æ—Ç–æ –ø—Ä–∏–Ω—è—Ç–æ, –Ω–æ —è –Ω–µ –æ–∂–∏–¥–∞–ª –µ–≥–æ. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–æ–±–ª–µ–º–µ."
    )
    
    PENDING_INCIDENT_WARNING = (
        "üì∏ –£ –≤–∞—Å –µ—Å—Ç—å –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–π –∏–Ω—Ü–∏–¥–µ–Ω—Ç {incident_id}!\n\n"
        "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–ª—è —ç—Ç–æ–≥–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞, "
        "–∞ –∑–∞—Ç–µ–º –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –æ—Ç—á–µ—Ç."
    )
    
    VOICE_PROCESSING = "üé§ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."
    VOICE_RECOGNIZED = "üìù –†–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç:\n<i>{text}</i>"
    VOICE_ERROR = "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–º."
    
    PHOTO_VALIDATION_ERROR = "‚ùå {error}"
    PHOTO_SAVED_SUCCESS = (
        "‚úÖ –°–ø–∞—Å–∏–±–æ –∑–∞ —Ñ–æ—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ!\n\n"
        "üìã ID: {incident_id}\n"
        "üìç –§–∏–ª–∏–∞–ª: {branch}\n"
        "üè¢ –û—Ç–¥–µ–ª: {department}\n"
        "‚ö†Ô∏è –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: {priority}\n"
        "‚è∞ –î–µ–¥–ª–∞–π–Ω: {deadline}\n\n"
        "üì∏ –§–æ—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –∫ –∏–Ω—Ü–∏–¥–µ–Ω—Ç—É –≤ Google Sheets –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º.\n"
        "–û–Ω–∏ –∑–∞–π–º—É—Ç—Å—è —Ä–µ—à–µ–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã."
    )
    
    SOLUTION_ACCEPTED = (
        "üü† –†–µ—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç–æ!\n\n"
        "üìã ID: {incident_id}\n"
        "‚ú® –†–µ—à–µ–Ω–∏–µ: {resolution}\n\n"
        "üì∏ –¢–µ–ø–µ—Ä—å –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ç–æ–≥–æ, —á—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞.\n"
        "–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ñ–æ—Ç–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–∫—Ä—ã—Ç."
    )
    
    SOLUTION_PHOTO_SAVED = (
        "‚úÖ –°–ø–∞—Å–∏–±–æ –∑–∞ —Ñ–æ—Ç–æ —Ä–µ—à–µ–Ω–∏—è!\n\n"
        "üì∏ –§–æ—Ç–æ —Ä–µ—à–µ–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–æ –∫ –∏–Ω—Ü–∏–¥–µ–Ω—Ç—É –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –≥—Ä—É–ø–ø—É.\n"
        "–ò–Ω—Ü–∏–¥–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–∫—Ä—ã—Ç!"
    )
    
    GENERAL_ERROR = "‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑."

# Error messages
class Errors:
    INCIDENT_NOT_FOUND = "‚ùå –ò–Ω—Ü–∏–¥–µ–Ω—Ç {incident_id} –Ω–µ –Ω–∞–π–¥–µ–Ω"
    INCIDENT_ALREADY_RESOLVED = "‚ÑπÔ∏è –ò–Ω—Ü–∏–¥–µ–Ω—Ç {incident_id} —É–∂–µ —Ä–µ—à–µ–Ω"
    NOT_RESPONSIBLE = (
        "‚ùå –í—ã –Ω–µ —è–≤–ª—è–µ—Ç–µ—Å—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º –∑–∞ —ç—Ç–æ—Ç –∏–Ω—Ü–∏–¥–µ–Ω—Ç\n"
        "–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π: ID {responsible_id}\n"
        "–í–∞—à ID: {user_id}"
    )
    NOT_DEPARTMENT_HEAD = (
        "‚ùå –í—ã –Ω–µ —è–≤–ª—è–µ—Ç–µ—Å—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º –Ω–∏ –∑–∞ –æ–¥–∏–Ω –æ—Ç–¥–µ–ª.\n"
        "–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º."
    )
    SHEETS_ERROR = "‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑."
    PHOTO_SAVE_ERROR = "‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–æ—Ç–æ: {error}"
    GENERAL_ERROR = "‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑."

# Command templates
class Commands:
    RESOLVE_USAGE = (
        "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ: /resolve [ID –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞] [–æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è]\n"
        "–ù–∞–ø—Ä–∏–º–µ—Ä: /resolve #20250827234045 –ó–∞–º–µ–Ω–∏–ª –ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å, —Å–≤–µ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç"
    )
    STATUS_USAGE = (
        "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ: /status [ID –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞]\n"
        "–ù–∞–ø—Ä–∏–º–µ—Ä: /status #20250827234045"
    )
    REP_USAGE = (
        "üìä –î–æ–±–∞–≤—å—Ç–µ –∑–∞–ø—Ä–æ—Å –ø–æ—Å–ª–µ /rep:\n"
        "‚Ä¢ /rep –≤—Å–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã\n" 
        "‚Ä¢ /rep —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –æ—Ç–¥–µ–ª–∞–º\n"
        "‚Ä¢ /rep –ø—Ä–æ–±–ª–µ–º—ã –∑–∞ —Å–µ–≥–æ–¥–Ω—è\n"
        "‚Ä¢ /rep –≥–ª–æ–±–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"
    )

# File handling
class FileHandling:
    MAX_PHOTO_SIZE_MB = 10
    ALLOWED_PHOTO_FORMATS = ['jpg', 'jpeg', 'png', 'gif', 'webp']
    PHOTO_REQUEST_TIMEOUT = 300  # 5 minutes
    
    # Magic bytes for format detection
    MAGIC_BYTES = {
        b'\xff\xd8\xff': 'jpg',
        b'\x89PNG': 'png',
        b'GIF': 'gif',
        b'RIFF': 'webp'  # Check for WEBP in first 12 bytes
    }

# Redis keys
class RedisKeys:
    USER_KEY = "roma_bot:user:{user_id}"
    MESSAGES_KEY = "roma_bot:messages:{user_id}"
    STATS_KEY = "roma_bot:stats:{user_id}"
    INCIDENT_KEY = "roma_bot:incident:{incident_id}"
    ACTIVE_INCIDENTS = "roma_bot:active_incidents"
    INCIDENT_COUNTER = "roma_bot:incident_counter:{date}"

# Logging
class LogMessages:
    VOICE_PROCESSING = "üé§ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."
    PHOTO_DOWNLOADING = "‚¨áÔ∏è –°–∫–∞—á–∏–≤–∞—é —Ñ–æ—Ç–æ –∏–∑ Telegram..."
    PHOTO_VALIDATING = "üîç –í–∞–ª–∏–¥–∏—Ä—É—é —Ñ–æ—Ç–æ..."
    PHOTO_SAVING = "üíæ –°–æ—Ö—Ä–∞–Ω—è—é —Ñ–æ—Ç–æ..."
    INCIDENT_SAVING = "üíæ –ò–Ω—Ü–∏–¥–µ–Ω—Ç {incident_id} —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ Redis (–æ–∂–∏–¥–∞–µ—Ç —Ñ–æ—Ç–æ)"
    SHEETS_UPDATING = "üìä –û–±–Ω–æ–≤–ª—è—é –∏–Ω—Ü–∏–¥–µ–Ω—Ç –≤ Google Sheets..."
    NOTIFICATION_SENDING = "üì§ –û—Ç–ø—Ä–∞–≤–ª—è—é —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –≥—Ä—É–ø–ø—É —Å —Ñ–æ—Ç–æ..."
    CONTEXT_CLEANING = "üßπ –û—á–∏—â–∞—é –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"

# Debug messages
class DebugMessages:
    USER_ID_CHECK = "üîç –û—Ç–ª–∞–¥–∫–∞: user_id={user_id}, pending_incident={pending_incident}"
    INCIDENT_FOUND = "üîç –ù–∞–π–¥–µ–Ω –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–π –∏–Ω—Ü–∏–¥–µ–Ω—Ç: {incident_id}, has_image={has_image}"
    USER_CONTEXT = "üîç user_context: {user_context}"
    WAITING_FOR_PHOTO = "üîç waiting_for_photo: {waiting_for_photo}"
    BLOCKING_CONDITION = "üîç –£—Å–ª–æ–≤–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏: pending_incident={pending_incident}, waiting_for_photo={waiting_for_photo}"
    PHOTO_RECEIVED = "üì∏ –ü–æ–ª—É—á–µ–Ω–æ —Ñ–æ—Ç–æ {type} –¥–ª—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞: {incident_id}"
    PHOTO_IGNORED = "‚ö†Ô∏è –ü–æ–ª—É—á–µ–Ω–æ —Ñ–æ—Ç–æ –±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è - –∏–≥–Ω–æ—Ä–∏—Ä—É—é"
    CONTEXT_CLEANING = "üßπ –û—á–∏—â–∞—é –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
